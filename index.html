<!DOCTYPE html>
<html>
   <head>
      <meta charset="utf-8"/>
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <title>TN</title>
      <link rel= "stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
      <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
      <script type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
      <link rel="stylesheet" href="custom-index.css" type="text/css" />
      <script src="ajax.js"></script>
      <script src="parse-response.js"></script>
      <script type="text/javascript" src="facebookcall.js"></script>
   </head>
   <body>
     <!--All of these classes are preset in bootstraps-->
      <!--NavBar-->
      <nav class = "navbar navbar-default navbar-fixed-top"> <!--or navbar-default-->
        <div class = "container-fluid">
            <div class = "navbar-header">
               <button type = "button" class = "navbar-toggle" data-toggle="collapse"
               data-target = "#navbar-main"> <!-edge 1-!>
                  <span class = "icon-bar"></span>
                  <span class = "icon-bar"></span>
                  <span class = "icon-bar"></span>
               </button>
              <a href = "index.html" class = "navbar-brand">TechNation</a>
            </div>
         
            <!-the class below: enables the collapse feature 
            and we need to id to target it: edge 1:-!>
            <div class = "collapse navbar-collapse" id = "navbar-main"> 
              
              <ul class = "nav navbar-nav">
                <li class = "active"><a href = "index.html"><span class = "glyphicon glyphicon-home"></span></a></li> 
                
                <li class = "dropdown">
                  <a class = "dropdown-toggle" data-toggle = "dropdown" href = "#"
                  role = "button" aria-haspopup = "true" aria-expanded = "false"
                  >Gameplays 
                  <span class = "caret"></span></a>
                  <ul class = "dropdown-menu">
                     <li><a href = "far-cry-4.html">Far Cry 4</a></li>
                     <li><a href = "need-for-speed.html">Need For Speed</a></li>
                  </ul>
               </li>
               <li><a href = "about.html">About</a></li>
              </ul>
              
              <!---right side-->
              
              <ul id = "parent" class = "nav navbar-nav navbar-right">
                 <li id = "message">Check The Weather</li>
                 <li id = "searchBox">
                      <label>
                          <input id = "cityTextbox" class = "form-control mr-sm-2 form-inline"
                          type = "text" placeholder = "Enter Your City"/>
                       </label>                
                       <button id = "first_btn" 
                          class = "btn btn-custom btn-outline-success my-2 my-sm-0">Search</button>
                  </li>
                 <li id = "result"></li>
                 <li><a id = "logout" href = "#" onclick = "logout()"></a></li>
                 <li>
                     <fb:login-button id = "fb-btn" scope="public_profile,user_location"onlogin="checkLoginState();"></fb:login-button>
                 </li>
              </ul>
            </div>
        </div>
      </nav>
      
      <!--Carousel: Overview-->
      <div class = "jumbotron">
         <div class = "slideshow-container">
            <div class = "slides">
               <img src = "Far Cry 4.jpg" style = "width: 100%"/>
               <div  class = "text">Two take-down enemy outpost video are available...
               <a href = "far-cry-4.html"> watch video</a></div>
            </div>
            
            <div class = "slides">
               <img src = "Need for Speed.jpg" style = "width: 100%"/>
               <div  class = "text">Q and A video, while playing NFS is out...
               <a href = "need-for-speed.html"> watch video</a></div>
            </div>
            
            <a class = "prev_slide" onclick = "moveSlides(-1);">&#10094</a>
            <a class = "next_slide" onclick = "moveSlides(1);">&#10095</a>
         </div>
         <div style = "text-align:center" class = "dot_group">
            <span class = "dot" onclick = "this_slide(1);"></span>
            <span class = "dot" onclick = "this_slide(2);"></span>
         </div>
      </div>
      <script type="text/javascript" src="custom-index.js"></script>
      
      <!--Main Text-->
      <div class = "container">
         <div class = "row">
            <div class  = "col-sm-4 main-text">
               <hr class = "common_divider">
               <h1>Daily Update</h1>
                  <p>Ullamcorper. Montes. Eros cras sit rutrum purus. Dapibus 
                  molestie euismod aptent semper. Neque volutpat, posuere fermentum 
                  magnis taciti. Curabitur habitant sollicitudin quam non lacus ut ac.
                  Cum accumsan. Nam id. Neque litora malesuada fusce, sed ante eu nec 
                  parturient, sociosqu habitant senectus lacinia curae; hendrerit diam 
                  <em>imperdiet</em> magna et per tellus turpis sit. Duis pretium
                  <em>suscipit</em> est habitant neque.</p>
                  <p>Ornare metus ridiculus ornare, in curae; diam <em>platea</em> 
                  magnis non. Accumsan vulputate felis eu quisque blandit, auctor tel
                  lus ut adipiscing morbi rhoncus vehicula. Eu sagittis commodo auctor. 
                  <em>Nostra</em> fusce mauris <em>maecenas</em> curae; nulla nisi ince
                  ptos class. Etiam. Suscipit tempus. Tincidunt, justo.</p>
            </div>
            <div class = "col-sm-4 main-text">
               <hr class = "common_divider">
               <h1>What's New This Week!</h1>
               <p>Pellentesque ridiculus tortor per curabitur. Sapien dignissim. Port
               titor <strong>aliquet</strong> justo facilisi. Dolor convallis nonummy 
               Luctus pellentesque. Ac volutpat accumsan massa risus posuere 
               <strong>rutrum</strong> habitasse platea, magnis et litora, donec nisi 
               phasellus cursus iaculis. Mauris viverra Mollis viverra convallis curabitur
               aliquam nostra posuere <strong>elementum</strong> urna elementum imperdiet.
               Vitae ridiculus primis eros fringilla interdum, dolor 
               <strong>adipiscing</strong> primis, semper pede facilisi tempus congue 
               euismod bibendum orci arcu.</p>
               <p>Scelerisque <strong>est</strong> habitasse per diam sapien purus 
               in dapibus feugiat lorem porta fermentum taciti pede ipsum morbi lacinia 
               proin pulvinar purus at fermentum varius cras habitasse <em>aenean</em> 
               scelerisque sed hymenaeos varius ac Egestas nisl <strong>tellus</strong> 
               interdum.</p>
            </div>
            <div class = "col-sm-4 main-text">
               <hr class = "common_divider">
               <h1>Upcoming Event</h1>
                  <p>Bibendum. Duis donec Arcu ante posuere risus commodo in mus porta, 
                  praesent fringilla neque natoque montes parturient vehicula dignissim, 
                  fames mus volutpat consequat. Erat id primis. Vel ultricies taciti suspe
                  ndisse massa ridiculus platea eleifend ligula felis tellus pellentesque 
                  eros porttitor <em>consequat</em> morbi purus odio facilisis pulvinar 
                  scelerisque odio cubilia. Quam mattis quam <em>eros</em> vivamus faucibus
                  eros feugiat pede platea fermentum scelerisque enim laoreet vestibulum 
                  laoreet erat pretium consequat at at. Pede felis pulvinar. Libero 
                  <em>lacus</em> leo placerat. Vel massa senectus tincidunt class adipiscing
                  fringilla <strong>Tortor</strong> pellentesque consequat diam. 
                  At sociis tempor hac elementum duis consequat volutpat tellus scelerisque
                  parturient class.</p>
            </div>
         </div>
         <hr class = "container_divider"/>
         <div class = "row">
            <div class = "col-sm-1"></div>
            <div class = "col-sm-6 main-text">
               <h2>Previous Game Adventure</h2>
                  <p>Mauris parturient sapien. Ligula orci Justo <em>dolor</em> 
                  dui turpis ac lorem, vestibulum cursus mollis, erat congue mi 
                  rhoncus nam. Sagittis mattis Consectetuer mattis dictum ridiculus
                  etiam. Malesuada imperdiet et malesuada, nullam rutrum elementum.
                  Sodales pellentesque maecenas vel ipsum hymenaeos turpis lorem Velit
                  eget <em>integer</em> erat sagittis habitant duis malesuada Cursus.</p>

                  <p>Dignissim donec porta integer habitant nam maecenas posuere morbi 
                  orci. Lorem vulputate dis porttitor. Euismod metus velit libero non 
                  dictumst iaculis. Per. Feugiat magna tincidunt sociis risus quis mollis
                  posuere mollis ante laoreet lobortis <strong>nam</strong> vulputate 
                  <em>accumsan</em> viverra mus. Dictumst cum elit mattis parturient turpis
                  venenatis dictumst parturient <strong>platea</strong> quam.</p>
            </div>
            <div class = "col-sm-4">
               <img src="twitchcon_2017_logo_2048.0.jpg" style = "width:100%"></img>
            </div>
         </div>
         <hr class = "container_divider">
         <div class = "row">
            <div class = "col-sm-1"></div>
            <div class = "col-sm-6 main-text">
               <h2>The Giveway of This Month</h2>
               <p>Fringilla <em>cubilia</em> praesent <strong>magna</strong> fames 
               est <strong>potenti</strong> dictum id nascetur ullamcorper condimentum
               iaculis Suspendisse <strong>placerat</strong> nibh montes nibh dui cursus
               morbi litora turpis augue eget. Conubia mi porta molestie dictumst molestie
               massa ac commodo. Habitant. Consequat neque dis ligula lacinia, primis fusce
               ipsum hendrerit primis eleifend per, at metus rutrum.</p>
               <p>Ultrices purus faucibus duis integer nisl non hac aliquet diam consectet
               uer risus sociis tempus. Mollis habitant rutrum molestie fames fusce. Sollic
               itudin aliquet, pellentesque ad id rhoncus nulla felis. Hac pellentesque fac
               ilisis pellentesque nec. Duis non blandit a magnis sem Proin adipiscing soci
               is ligula natoque cursus sociosqu diam Cras, mi cras.</p>

            </div>
            <div class = "col-sm-3">
               <img src="sony-playstation-4-ps4-pro-1tb.png" style = "width:100%"></img>
            </div>
         </div>
      </div>
      
      <!--Footer-->
      <footer class = "footer">
         <div class = "container">
            
            <div class = "row">
               <div class = "st_row">
                  <div class = "col-sm-1"></div>   
                  <div class = "col-sm-3">
                      <h3>Gameplays</h3>
                      <hr class = "common_divider">
                      <ul>
                       <li><a class = "footer_a" href = "far-cry-4.html">Far Cry 4</a></li>
                       <li><a class = "footer_a" href = "need-for-speed.html">Need For Speed</a></li>
                      </ul>
                   </div>
                    
                    <div class = "col-sm-3">
                       <h3>More</h3>
                       <hr class = "common_divider">
                       <ul>
                          <li><a class = "footer_a" href = "about.html">About</a></li>
                       </ul>
                    </div>
                    
                    <div class = "col-sm-3">
                       <h3>Follow Me As</h3>
                       <hr class = "common_divider">
                       <ul>
                          <li id = "facebook_tag">Facebook: TechwellGamer</li>
                       </ul>
                       <h3>Site Info</h3>
                       <hr class = "common_divider">
                       <ul>
                          <li><a class = "footer_a" href = "citations.html">Citations</a></li>
                       </ul>
                    </div>
                  
                    <div class = "col-sm-2">
                       <img src = "logo.png"/>
                       <p>&copy;2017 TechNation.link
                       <br/>
                       All Rights Reserved - sitelayout only.
                       </p>
                    </div>
                 </div>
            </div>
            </div>
         </div>
      </footer>
   </body>
   <!--I wanted this to only run once and 
   print the value on the right side of the 
   nav, and send this value to the other 
   navs on the other pages to have it,
   but I couldn't do it right now-->
   <script>
      (function(){
            var result = ""
            document.getElementById('cityTextbox').value = null;//if you refresh the page
            
            var placement = document.getElementById('result');
            // placement.appendChild(document.createElement('p'));
            
            var weatherLocation = placement;
         
            weatherLocation.appendChild(document.createTextNode(result));
            // console.log(placement.childNodes[0]);
            var previousCity = null;
         
            document.getElementById('first_btn').addEventListener('click', update_info);
            
            
            function update_info(){
            
               var city = document.getElementById('cityTextbox').value;
               // console.log("the city: " + city);
               if(city === "" || previousCity === city){
                  // console.log('This is previous entered city: ' + previousCity + " and this is current city: " + city);
                  return;
               }
               
               var url = "https://api.openweathermap.org/data/2.5/weather?q=";
               var apiKey = "abd229c1805219e9e0e302fe214e9888";
               url += city + "&APPID=" + apiKey;
               
               //first how you will handle the response, and then ...
               var handler = function(respond){
                  result = parseResponse(respond);
                  // console.log(weatherLocation.firstChild);
                  weatherLocation.removeChild(weatherLocation.firstChild);
                  // console.log(weatherLocation.firstChild);
                  weatherLocation.appendChild(document.createTextNode(result));
                  // console.log(weatherLocation.firstChild);
                  previousCity = city;
                  // NEW DELETE
                  var parent = document.getElementById('parent');
                  // console.log(parent.childNodes[1]);
                  parent.removeChild(parent.childNodes[1]);
                  parent.removeChild(parent.childNodes[2]);
                  // console.log("The end");
               }
               
               //call the server to receive the info from the server
               ajax(url,handler);
               
            }
         })();
   </script>
</html>
